<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dashboard Ejecutivo</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.25/jspdf.plugin.autotable.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>


<style>
body {
  font-family: Arial, sans-serif;
  background: #0f1115;
  color: #fff;
  margin: 0;
  padding: 15px; /* Optimizado para ganar espacio */
  display: flex;
  flex-direction: column;
  min-height: 100vh;
}

h1 { color: #ff7a18; margin: 10px 0 5px 0; font-size: 1.8rem; }

.subtitulo { color: #aaa; margin-bottom: 15px; font-size: 14px; }

/* Contenedor unificado para todos los KPIs (incluyendo brechas) */
.kpis {
  display: grid;
  /* En PC permite hasta 5 o 6 columnas, en m칩vil se ajusta solo */
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 12px;
  margin-bottom: 20px;
}

.kpi {
  background: #1a1d24;
  padding: 15px;
  border-radius: 12px;
  border-left: 6px solid #444;
  display: flex;
  flex-direction: column;
  justify-content: center;
}

.kpi.verde { border-left-color: #4caf50; }
.kpi.amarillo { border-left-color: #ff9800; }
.kpi.rojo { border-left-color: #f44336; }

.kpi small { color: #aaa; font-size: 11px; text-transform: uppercase; }
.kpi h2 { color: #ff7a18; margin: 5px 0 0 0; font-size: 1.4rem; font-weight: bold; }

/* Contenedor del gr치fico expandido */
.card-grafico {
  background: #1a1d24;
  padding: 15px;
  border-radius: 14px;
  flex-grow: 1; /* Hace que el gr치fico ocupe el espacio restante */
  display: flex;
  flex-direction: column;
  min-height: 450px; /* Altura m칤nima para que no se achique */
}

.chart-container {
  position: relative;
  flex-grow: 1;
  width: 100%;
  height: 100%;
}

.acciones-dashboard {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  margin-bottom: 20px;
}

.acciones-dashboard button {
  background: #1a1d24;
  color: #fff;
  border: 1px solid #333;
  padding: 12px;
  border-radius: 10px;
  cursor: pointer;
  flex: 1;
  min-width: 120px;
  font-size: 13px;
  transition: 0.3s;
}

.acciones-dashboard button.activo {
  background: #ff7a18;
  color: #111;
  font-weight: bold;
}

/* --- AJUSTES PARA CELULAR --- */
@media (max-width: 600px) {
  .kpis {
    grid-template-columns: 1fr 1fr; /* Dos columnas en m칩vil para que no sea tan largo */
  }
  
  .card-grafico {
    height: 400px;
  }
}
</style>
</head>

<body>

<h1>游늵 Dashboard Ejecutivo</h1>
<div class="subtitulo" id="detalle">Cargando datos del cliente...</div>

<div class="acciones-dashboard">
  <button id="btnTrimestral" class="activo">游늳 An치lisis trimestral</button>
  <button id="btnAnual">游늵 An치lisis anual</button>
  <button id="btnPDF" style="border-color: #ff7a18; color: #ff7a18;">游늯 Exportar PDF / Imprimir</button>
</div>

<div class="kpis" id="kpis"></div>

<div class="card-grafico">
    <div class="chart-container">
        <canvas id="grafico"></canvas>
    </div>
</div>

<script src="dashboard.js"></script>
</body>
</html>